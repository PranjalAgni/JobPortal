{"ast":null,"code":"var _jsxFileName = \"/home/user/Navigation-and-api-integration/client/src/components/filter.component.js\";\nimport React from 'react';\nimport { multiFilter } from './multiFilter';\nimport { history } from '../_helpers/history';\nimport Select from 'react-select';\n\nclass Filter extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.handleChangeComp = selectedOption => {\n      this.setState({\n        company: selectedOption\n      });\n    };\n\n    this.handleChangeDesig = selectedOption => {\n      this.setState({\n        designation: selectedOption\n      });\n    };\n\n    this.handleChangeCity = selectedOption => {\n      this.setState({\n        city: selectedOption\n      });\n    };\n\n    this.SubmitData = event => {\n      event.preventDefault();\n      var job_data = this.props.data_filter;\n\n      if ((this.state.city === '' || this.state.city === null) && (this.state.designation === '' || this.state.designation === null) && (this.state.company === '' || this.state.company === null)) {\n        var data = job_data;\n        console.log(data);\n      } else {\n        try {\n          data = job_data;\n          const condition = {\n            city: this.state.city.value || '',\n            company: this.state.company.value || '',\n            designation: this.state.designation.value || ''\n          };\n          console.log(condition);\n          data = multiFilter(job_data, condition); // Calling filter function with condition and original data\n        } catch (error) {\n          console.log(error.message);\n        }\n      }\n\n      console.log(data);\n      this.props.filteredData(data); // Assigning the filter data\n    };\n\n    this.reset = () => {\n      this.setState({\n        city: '',\n        designation: '',\n        company: ''\n      });\n      history.push('/');\n    };\n\n    this.state = {\n      city: '',\n      designation: '',\n      company: '',\n      cityList: [],\n      desigList: [],\n      compList: [],\n      optionsComp: [],\n      optionsCity: [],\n      optionsDesig: []\n    };\n  }\n\n  componentWillReceiveProps(nextProps) {\n    const currentPageData = nextProps.currentPageData;\n\n    try {\n      var cityList = [];\n      var desigList = [];\n      var compList = [];\n      currentPageData.filter(item => {\n        return cityList.push(item.city), desigList.push(item.designation), compList.push(item.company);\n      });\n      cityList = [...new Set(cityList)];\n      desigList = [...new Set(desigList)];\n      compList = [...new Set(compList)];\n      const optionsComp = compList.map(item => {\n        return {\n          'label': item,\n          'value': item\n        };\n      });\n      const optionsCity = cityList.map(item => {\n        return {\n          'label': item,\n          'value': item\n        };\n      });\n      const optionsDesig = desigList.map(item => {\n        return {\n          'label': item,\n          'value': item\n        };\n      });\n      this.setState({\n        cityList: cityList,\n        desigList: desigList,\n        compList: compList,\n        optionsComp: optionsComp,\n        optionsCity: optionsCity,\n        optionsDesig: optionsDesig\n      });\n    } catch (error) {\n      console.log(error.message);\n    }\n  }\n\n  render() {\n    const _this$state = this.state,\n          company = _this$state.company,\n          designation = _this$state.designation,\n          city = _this$state.city;\n    return React.createElement(\"div\", {\n      className: \"row filter\",\n      id: \"filter\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-sm-12 col-md-offset-1\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116\n      },\n      __self: this\n    }, React.createElement(\"form\", {\n      className: \"form\",\n      onSubmit: this.SubmitData,\n      method: \"POST\",\n      id: \"filterForm\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-sm-3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120\n      },\n      __self: this\n    }, React.createElement(Select, {\n      pageSize: 1,\n      options: this.state.optionsComp,\n      value: company,\n      onChange: this.handleChangeComp,\n      placeholder: \"Choose company\",\n      isClearable: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"col-sm-3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123\n      },\n      __self: this\n    }, React.createElement(Select, {\n      pageSize: 1,\n      options: this.state.optionsDesig,\n      value: designation,\n      onChange: this.handleChangeDesig,\n      placeholder: \"Choose designation\",\n      isClearable: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"col-sm-3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126\n      },\n      __self: this\n    }, React.createElement(Select, {\n      pageSize: 1,\n      options: this.state.optionsCity,\n      value: city,\n      onChange: this.handleChangeCity,\n      placeholder: \"Choose city\",\n      isClearable: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"col-sm-3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      type: \"submit\",\n      className: \"space btn btn-primary\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130\n      },\n      __self: this\n    }, \"Filter\"), React.createElement(\"button\", {\n      type: \"reset\",\n      onClick: this.reset,\n      className: \"space btn btn-danger\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131\n      },\n      __self: this\n    }, \"Clear\")))))));\n  }\n\n}\n\nexport default Filter;","map":{"version":3,"sources":["/home/user/Navigation-and-api-integration/client/src/components/filter.component.js"],"names":["React","multiFilter","history","Select","Filter","Component","constructor","props","handleChangeComp","selectedOption","setState","company","handleChangeDesig","designation","handleChangeCity","city","SubmitData","event","preventDefault","job_data","data_filter","state","data","console","log","condition","value","error","message","filteredData","reset","push","cityList","desigList","compList","optionsComp","optionsCity","optionsDesig","componentWillReceiveProps","nextProps","currentPageData","filter","item","Set","map","render"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { multiFilter } from './multiFilter'\nimport { history } from '../_helpers/history'\nimport Select from 'react-select'\n\nclass Filter extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      city: '',\n      designation: '',\n      company: '',\n      cityList: [],\n      desigList: [],\n      compList: [],\n      optionsComp: [],\n      optionsCity: [],\n      optionsDesig: []\n    }\n  }\n\n  handleChangeComp = (selectedOption) => {\n    this.setState({\n      company: selectedOption\n    });\n  }\n\n  handleChangeDesig = (selectedOption) => {\n    this.setState({\n      designation: selectedOption\n    });\n  }\n\n  handleChangeCity = (selectedOption) => {\n    this.setState({\n      city: selectedOption\n    });\n  }\n\n  componentWillReceiveProps(nextProps) {\n    const { currentPageData } = nextProps\n    try {\n      var cityList = [];\n      var desigList = [];\n      var compList = [];\n      currentPageData.filter((item) => {\n        return (cityList.push(item.city), desigList.push(item.designation), compList.push(item.company))\n      })\n      cityList = [...new Set(cityList)]\n      desigList = [...new Set(desigList)]\n      compList = [...new Set(compList)]\n      const optionsComp = compList.map((item) => {\n        return { 'label': item, 'value': item }\n      })\n      const optionsCity = cityList.map((item) => {\n        return { 'label': item, 'value': item }\n      })\n\n      const optionsDesig = desigList.map((item) => {\n        return { 'label': item, 'value': item }\n      })\n      this.setState({\n        cityList: cityList,\n        desigList: desigList,\n        compList: compList,\n        optionsComp: optionsComp,\n        optionsCity: optionsCity,\n        optionsDesig: optionsDesig\n      })\n    } catch (error) {\n      console.log(error.message)\n    }\n  }\n\n  SubmitData = (event) => {\n    event.preventDefault();\n    var job_data = this.props.data_filter;\n    if ((this.state.city === '' || this.state.city === null) &&\n     (this.state.designation === '' || this.state.designation === null) &&\n      (this.state.company === '' || this.state.company === null)) {\n      var data = job_data;\n      console.log(data)\n    }\n    else {\n     try {\n      data = job_data;\n      const condition = {\n        city: this.state.city.value || '',\n        company: this.state.company.value || '',\n        designation: this.state.designation.value || ''\n      }\n      console.log(condition)\n      data = multiFilter(job_data, condition); // Calling filter function with condition and original data\n    }\n    catch (error) {\n       console.log(error.message)\n     }\n  }\n  console.log(data)\n  this.props.filteredData(data); // Assigning the filter data\n}\n\n  reset = () => {\n    this.setState({\n      city: '',\n      designation: '',\n      company: ''\n    })\n    history.push('/')\n  }\n\n  render() {\n    const { company, designation, city } = this.state;\n    return (\n      <div className=\"row filter\" id=\"filter\">\n        <div className=\"col-sm-12 col-md-offset-1\">\n          <form className=\"form\" onSubmit={this.SubmitData} method=\"POST\" id=\"filterForm\">\n            <div className=\"form-group\">\n              <div className=\"row\">\n                <div className=\"col-sm-3\">\n                  <Select pageSize={1} options={this.state.optionsComp} value={company} onChange={this.handleChangeComp} placeholder=\"Choose company\" isClearable={true} />\n                </div>\n                <div className=\"col-sm-3\">\n                  <Select pageSize={1} options={this.state.optionsDesig} value={designation} onChange={this.handleChangeDesig} placeholder=\"Choose designation\" isClearable={true} />\n                </div>\n                <div className=\"col-sm-3\">\n                  <Select pageSize={1} options={this.state.optionsCity} value={city} onChange={this.handleChangeCity} placeholder=\"Choose city\" isClearable={true} />\n                </div>\n                <div className=\"col-sm-3\">\n                  <button type=\"submit\" className=\"space btn btn-primary\">Filter</button>\n                  <button type=\"reset\" onClick={this.reset} className=\"space btn btn-danger\">Clear</button>\n                </div>\n              </div>\n            </div>\n          </form>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default Filter;"]},"metadata":{},"sourceType":"module"}