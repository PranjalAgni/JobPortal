{"ast":null,"code":"var _jsxFileName = \"/home/user/Navigation-and-api-integration/client/src/components/header.component.js\";\nimport React from 'react';\nimport { Link } from 'react-router-dom';\nimport male from '../images/male.jpg';\nimport female from '../images/female.png';\nimport isLoggedIn from '../isLoggedIn';\nimport { userActions } from '../redux/user/userActions';\nimport { jobAction } from '../redux/addJob/jobActions';\n\nclass Header extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.getAppliedList = event => {\n      event.preventDefault();\n    };\n\n    this.logout = () => {\n      userActions.logout();\n      this.props.history.push('/');\n    };\n\n    this.showMail = () => {\n      document.getElementById('mail').style.display = 'block';\n    };\n\n    this.hideMail = () => {\n      document.getElementById('mail').style.display = 'none';\n    };\n\n    this.fetchAllUser = e => {\n      const dispatch = this.props.dispatch;\n      dispatch(userActions.getAllUsers());\n    };\n\n    this.state = {\n      currentUser: '',\n      mails: [],\n      // List of all shortlisted jobs of all companies\n      appliedJobs: [],\n      // List of all applied jobs by all user\n      mailList: [] // Store mails by filtering on company and user details\n\n    };\n  }\n\n  componentDidMount() {\n    const dispatch = this.props.dispatch;\n    dispatch(jobAction.getAppliedJob(this.state.currentUser.name));\n    const _this$props = this.props,\n          currentUser = _this$props.currentUser,\n          mails = _this$props.mails,\n          appliedjobs = _this$props.appliedjobs;\n    this.setState({\n      currentUser: currentUser,\n      mails: mails,\n      appliedJobs: appliedjobs\n    }, () => {\n      let lengthMail = 0;\n\n      try {\n        this.state.appliedJobs.map(job => {\n          this.state.mails.map(item => {\n            if (item.company === job.jobDetails.company && item.name === this.state.currentUser.name && item.jobId === job._id) {\n              this.setState({\n                lengthMail: ++lengthMail\n              });\n            }\n\n            return true;\n          });\n          return true;\n        });\n      } catch (error) {\n        console.log(error.message);\n      }\n    });\n  }\n\n  componentWillReceiveProps(nextProps) {\n    const currentUser = nextProps.currentUser,\n          mails = nextProps.mails,\n          appliedjobs = nextProps.appliedjobs;\n    this.setState({\n      currentUser: currentUser,\n      mails: mails,\n      appliedJobs: appliedjobs\n    }, () => {\n      let lengthMail = 0;\n\n      try {\n        this.state.appliedJobs.map(job => {\n          this.state.mails.map(item => {\n            if (item.company === job.jobDetails.company && item.name === this.state.currentUser.name && item.jobId === job._id) {\n              this.setState({\n                lengthMail: ++lengthMail,\n                imageHash: Date.now()\n              });\n            }\n\n            return true;\n          });\n          return true;\n        });\n      } catch (error) {\n        console.log(error.message);\n      }\n    });\n  } // currentUser = JSON.parse(localStorage.getItem('currentUser'));\n\n\n  render() {\n    let imageUrl;\n\n    if (isLoggedIn()) {\n      imageUrl = 'http://localhost:4000'.concat(this.state.currentUser.image);\n    }\n\n    return React.createElement(\"nav\", {\n      className: \"navbar navbar-inverse navbar-fixed-top\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      id: \"mail\",\n      className: \"w3-modal w3-animate-opacity\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"w3-modal-content w3-card-4\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    }, React.createElement(\"header\", {\n      className: \"w3-container w3-teal\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      onClick: this.hideMail,\n      className: \"w3-button w3-large w3-display-topright\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108\n      },\n      __self: this\n    }, \"\\xD7\"), React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110\n      },\n      __self: this\n    }, \"Notifications\")), React.createElement(\"div\", {\n      className: \"w3-container mail\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112\n      },\n      __self: this\n    }, isLoggedIn() && this.state.appliedJobs !== null && this.state.mails && this.state.appliedJobs.map(job => {\n      return this.state.mails.map((item, index) => {\n        if (item.company === job.jobDetails.company && item.name === this.state.currentUser.name && item.jobId === job._id && item.status === 'Shortlisted') {\n          return React.createElement(\"p\", {\n            key: index,\n            className: \"mail\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 119\n            },\n            __self: this\n          }, \"Hi! \", this.state.currentUser.name, \", you have been \", item.status + ' ', \"in \", item.company, \" for the position of \", item.designation, \". So, we are pleased to inform you to be prepared for the interview which is going to be held at \", item.company, \",\", item.city, \" office on \", item.date, \".\");\n        }\n\n        if (item.company === job.jobDetails.company && item.name === this.state.currentUser.name && item.jobId === job._id && item.status === 'Selected') {\n          return React.createElement(\"p\", {\n            key: index,\n            className: \"mail\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 128\n            },\n            __self: this\n          }, \"Hi! \", this.state.currentUser.name, \", your application has been \", item.status + ' ', \"for the position of \", item.designation, \" in \", item.company, \". So, please sit back and wait for further notification.\");\n        }\n\n        return false;\n      });\n    })), React.createElement(\"footer\", {\n      className: \"w3-container w3-teal\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141\n      },\n      __self: this\n    })))), React.createElement(\"div\", {\n      className: \"container-fluid\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-sm-12\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"navbar-header\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      type: \"button\",\n      className: \"navbar-toggle\",\n      \"data-toggle\": \"collapse\",\n      \"data-target\": \"#myNavbar\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      className: \"icon-bar\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150\n      },\n      __self: this\n    }), React.createElement(\"span\", {\n      className: \"icon-bar\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151\n      },\n      __self: this\n    }), React.createElement(\"span\", {\n      className: \"icon-bar\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152\n      },\n      __self: this\n    })), React.createElement(Link, {\n      to: \"/\",\n      className: \"navbar-brand\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      className: \"fa fa-free-code-camp\",\n      \"aria-hidden\": \"true\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154\n      },\n      __self: this\n    }), \" jobportal\")), React.createElement(\"div\", {\n      className: \"collapse navbar-collapse\",\n      id: \"myNavbar\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156\n      },\n      __self: this\n    }, React.createElement(\"ul\", {\n      className: \"nav navbar-nav\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157\n      },\n      __self: this\n    }, React.createElement(\"li\", {\n      className: \"active\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158\n      },\n      __self: this\n    }, React.createElement(Link, {\n      to: \"/\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158\n      },\n      __self: this\n    }, \"Home\")), isLoggedIn() && this.state.currentUser.role === 1 && React.createElement(\"li\", {\n      id: \"applied\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160\n      },\n      __self: this\n    }, React.createElement(Link, {\n      to: \"/appliedlist\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160\n      },\n      __self: this\n    }, \"Applied List\")), isLoggedIn() && this.state.currentUser.role === 2 && React.createElement(\"li\", {\n      id: \"applied\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163\n      },\n      __self: this\n    }, React.createElement(Link, {\n      to: \"/appliedlist\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163\n      },\n      __self: this\n    }, \"Applied List\")), isLoggedIn() && this.state.currentUser.role === 2 && React.createElement(\"li\", {\n      onClick: this.showMail,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167\n      },\n      __self: this\n    }, React.createElement(Link, {\n      to: \"#\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      className: \"fa fa-bell\",\n      \"aria-hidden\": \"true\",\n      style: {\n        fontSize: '20px'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169\n      },\n      __self: this\n    }), this.state.lengthMail > 0 && React.createElement(\"span\", {\n      className: \"button__badge\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171\n      },\n      __self: this\n    }, this.state.lengthMail)))), React.createElement(\"ul\", {\n      className: \"nav navbar-nav navbar-right\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 179\n      },\n      __self: this\n    }, !isLoggedIn() && React.createElement(\"li\", {\n      id: \"register\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 182\n      },\n      __self: this\n    }, React.createElement(Link, {\n      to: \"/register\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 182\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      className: \"glyphicon glyphicon-user\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 182\n      },\n      __self: this\n    }), \" Sign Up\")), !isLoggedIn() && React.createElement(\"li\", {\n      id: \"login\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 185\n      },\n      __self: this\n    }, React.createElement(Link, {\n      to: \"/login\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 185\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      className: \"glyphicon glyphicon-log-in\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 185\n      },\n      __self: this\n    }), \" Login\")), isLoggedIn() && this.state.currentUser.role !== 2 && React.createElement(\"li\", {\n      id: \"addjob\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 189\n      },\n      __self: this\n    }, React.createElement(Link, {\n      to: \"/addjob\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 189\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      className: \"fa fa-plus\",\n      \"aria-hidden\": \"true\",\n      style: {\n        fontSize: '25px'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 189\n      },\n      __self: this\n    }))), isLoggedIn() && this.state.currentUser.role === 0 && React.createElement(\"li\", {\n      id: \"manageuser\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 193\n      },\n      __self: this\n    }, React.createElement(Link, {\n      to: \"/manageusers\",\n      onClick: this.fetchAllUser,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 193\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      className: \"fa fa-users\",\n      \"aria-hidden\": \"true\",\n      style: {\n        fontSize: '25px'\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 193\n      },\n      __self: this\n    }))), isLoggedIn() && React.createElement(\"li\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 196\n      },\n      __self: this\n    }, React.createElement(Link, {\n      to: \"/profile\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 197\n      },\n      __self: this\n    }, !this.state.currentUser.image && this.state.currentUser.gender === 'Male' && React.createElement(\"img\", {\n      className: \"headImage\",\n      src: male,\n      alt: \"Upload Pic\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 199\n      },\n      __self: this\n    }), !this.state.currentUser.image && this.state.currentUser.gender === 'Female' && React.createElement(\"img\", {\n      className: \"headImage\",\n      src: female,\n      alt: \"Upload Pic\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 202\n      },\n      __self: this\n    }), this.state.currentUser.image && React.createElement(\"img\", {\n      className: \"headImage\",\n      src: \"\".concat(imageUrl, \"?\").concat(this.state.imageHash),\n      alt: \"Upload Pic\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 205\n      },\n      __self: this\n    }), \"\\xA0Hi! \", this.state.currentUser.name)), isLoggedIn() && React.createElement(\"li\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 212\n      },\n      __self: this\n    }, React.createElement(Link, {\n      to: \"/\",\n      onClick: this.logout,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 212\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      className: \"fa fa-sign-out\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 212\n      },\n      __self: this\n    }), \" Logout\"))))))));\n  }\n\n}\n\nexport default Header;","map":{"version":3,"sources":["/home/user/Navigation-and-api-integration/client/src/components/header.component.js"],"names":["React","Link","male","female","isLoggedIn","userActions","jobAction","Header","Component","constructor","props","getAppliedList","event","preventDefault","logout","history","push","showMail","document","getElementById","style","display","hideMail","fetchAllUser","e","dispatch","getAllUsers","state","currentUser","mails","appliedJobs","mailList","componentDidMount","getAppliedJob","name","appliedjobs","setState","lengthMail","map","job","item","company","jobDetails","jobId","_id","error","console","log","message","componentWillReceiveProps","nextProps","imageHash","Date","now","render","imageUrl","concat","image","index","status","designation","city","date","role","fontSize","gender"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { Link } from 'react-router-dom'\nimport male from '../images/male.jpg'\nimport female from '../images/female.png'\nimport isLoggedIn from '../isLoggedIn'\nimport { userActions } from '../redux/user/userActions'\nimport { jobAction } from '../redux/addJob/jobActions';\n\nclass Header extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      currentUser: '',\n      mails: [],  // List of all shortlisted jobs of all companies\n      appliedJobs: [], // List of all applied jobs by all user\n      mailList: [] // Store mails by filtering on company and user details\n    }\n  }\n\n  getAppliedList = (event) => {\n    event.preventDefault();\n  }\n\n  componentDidMount() {\n    const { dispatch } = this.props\n    dispatch(jobAction.getAppliedJob(this.state.currentUser.name));\n    const { currentUser, mails, appliedjobs } = this.props;\n    this.setState({\n      currentUser: currentUser,\n      mails: mails,\n      appliedJobs: appliedjobs\n    }, () => {\n      let lengthMail = 0;\n      try {\n        this.state.appliedJobs.map((job) => {\n          this.state.mails.map((item) => {\n            if (item.company === job.jobDetails.company && item.name === this.state.currentUser.name && item.jobId === job._id) {\n              this.setState({\n                lengthMail: ++lengthMail\n              })\n            }\n            return true;\n          })\n          return true;\n        })\n      } catch (error) {\n        console.log(error.message)\n      }\n    })\n  }\n\n  componentWillReceiveProps(nextProps) {\n    const { currentUser, mails, appliedjobs } = nextProps\n    this.setState({\n      currentUser: currentUser,\n      mails: mails,\n      appliedJobs: appliedjobs\n    }, () => {\n      let lengthMail = 0;\n      try {\n        this.state.appliedJobs.map((job) => {\n          this.state.mails.map((item) => {\n            if (item.company === job.jobDetails.company && item.name === this.state.currentUser.name && item.jobId === job._id) {\n              this.setState({\n                lengthMail: ++lengthMail,\n                imageHash: Date.now()\n              })\n            }\n            return true;\n          })\n          return true;\n        })\n      } catch (error) {\n        console.log(error.message)\n      }\n    })\n  }\n\n  // currentUser = JSON.parse(localStorage.getItem('currentUser'));\n  logout = () => {\n    userActions.logout()\n    this.props.history.push('/')\n  }\n\n  showMail = () => {\n    document.getElementById('mail').style.display = 'block'\n  }\n\n  hideMail = () => {\n    document.getElementById('mail').style.display = 'none'\n  }\n\n  fetchAllUser = (e) => {\n    const { dispatch } = this.props;\n    dispatch(userActions.getAllUsers());\n  }\n\n  render() {\n    let imageUrl;\n    if (isLoggedIn()) {\n      imageUrl = 'http://localhost:4000'.concat(this.state.currentUser.image)\n    }\n    return (\n      <nav className=\"navbar navbar-inverse navbar-fixed-top\">\n        <div id=\"mail\" className=\"w3-modal w3-animate-opacity\">\n          <div className=\"w3-modal-content w3-card-4\">\n            <header className=\"w3-container w3-teal\">\n              <span onClick={this.hideMail}\n                className=\"w3-button w3-large w3-display-topright\">&times;</span>\n              <h3>Notifications</h3>\n            </header>\n            <div className=\"w3-container mail\">\n              {\n                isLoggedIn() && this.state.appliedJobs !== null && this.state.mails && this.state.appliedJobs.map((job) => {\n                  return (\n                    this.state.mails.map((item, index) => {\n                      if (item.company === job.jobDetails.company && item.name === this.state.currentUser.name && item.jobId === job._id && item.status === 'Shortlisted') {\n                        return (\n                          <p key={index} className=\"mail\">Hi! {this.state.currentUser.name}, you have been {item.status + ' '}\n                            in {item.company} for the position of {item.designation}. So, we are pleased to inform\n                            you to be prepared for the interview which is going to be held at {item.company},\n                             {item.city} office on {item.date}.\n                          </p>\n                        );\n                      }\n                      if (item.company === job.jobDetails.company && item.name === this.state.currentUser.name && item.jobId === job._id && item.status === 'Selected') {\n                        return (\n                          <p key={index} className=\"mail\">Hi! {this.state.currentUser.name}, your application has been {item.status + ' '}\n                            for the position of {item.designation} in {item.company}. So, please sit back\n                           and wait for further notification.\n                          </p>\n                        );\n                      }\n                      return false;\n                    })\n                  )\n                })\n              }\n            </div>\n            <footer className=\"w3-container w3-teal\">\n              <p></p>\n            </footer>\n          </div>\n        </div>\n        <div className=\"container-fluid\">\n          <div className=\"row\">\n            <div className=\"col-sm-12\">\n              <div className=\"navbar-header\">\n                <button type=\"button\" className=\"navbar-toggle\" data-toggle=\"collapse\" data-target=\"#myNavbar\">\n                  <span className=\"icon-bar\"></span>\n                  <span className=\"icon-bar\"></span>\n                  <span className=\"icon-bar\"></span>\n                </button>\n                <Link to=\"/\" className=\"navbar-brand\"><i className=\"fa fa-free-code-camp\" aria-hidden=\"true\"></i> jobportal</Link>\n              </div>\n              <div className=\"collapse navbar-collapse\" id=\"myNavbar\">\n                <ul className=\"nav navbar-nav\">\n                  <li className=\"active\"><Link to=\"/\">Home</Link></li>\n                  {\n                    isLoggedIn() && this.state.currentUser.role === 1 && <li id=\"applied\"><Link to=\"/appliedlist\">Applied List</Link></li>\n                  }\n                  {\n                    isLoggedIn() && this.state.currentUser.role === 2 && <li id=\"applied\"><Link to=\"/appliedlist\">Applied List</Link></li>\n                  }\n                  {\n                    isLoggedIn() && this.state.currentUser.role === 2 &&\n                    <li onClick={this.showMail}>\n                      <Link to=\"#\">\n                        <i className=\"fa fa-bell\" aria-hidden=\"true\" style={{ fontSize: '20px' }}></i>\n                        {this.state.lengthMail > 0 &&\n                          <span className=\"button__badge\">\n                            {this.state.lengthMail}\n                          </span>\n                        }\n                      </Link>\n                    </li>\n                  }\n                </ul>\n                <ul className=\"nav navbar-nav navbar-right\">\n                  {\n\n                    !isLoggedIn() && <li id=\"register\"><Link to=\"/register\"><span className=\"glyphicon glyphicon-user\"></span> Sign Up</Link></li>\n                  }\n                  {\n                    !isLoggedIn() && <li id=\"login\"><Link to=\"/login\"><span className=\"glyphicon glyphicon-log-in\"></span> Login</Link></li>\n                  }\n                  {\n                    isLoggedIn() && this.state.currentUser.role !== 2 &&\n                    <li id=\"addjob\"><Link to=\"/addjob\"><i className=\"fa fa-plus\" aria-hidden=\"true\" style={{ fontSize: '25px' }}></i></Link></li>\n                  }\n                  {\n                    isLoggedIn() && this.state.currentUser.role === 0 &&\n                    <li id=\"manageuser\"><Link to=\"/manageusers\" onClick={this.fetchAllUser}><i className=\"fa fa-users\" aria-hidden=\"true\" style={{ fontSize: '25px' }}></i></Link></li>\n                  }\n                  {isLoggedIn() &&\n                    <li>\n                      <Link to=\"/profile\">\n                        {\n                          !this.state.currentUser.image && this.state.currentUser.gender === 'Male' && <img className=\"headImage\" src={male} alt=\"Upload Pic\" />\n                        }\n                        {\n                          !this.state.currentUser.image && this.state.currentUser.gender === 'Female' && <img className=\"headImage\" src={female} alt=\"Upload Pic\" />\n                        }\n                        {\n                          this.state.currentUser.image && <img className=\"headImage\" src={`${imageUrl}?${this.state.imageHash}`} alt=\"Upload Pic\" />\n                        }\n                        &nbsp;Hi! {this.state.currentUser.name}\n                      </Link>\n                    </li>\n                  }\n                  {\n                    isLoggedIn() && <li><Link to=\"/\" onClick={this.logout}><i className=\"fa fa-sign-out\"></i> Logout</Link></li>\n                  }\n                </ul>\n              </div >\n            </div>\n          </div>\n        </div>\n      </nav >\n\n    );\n  }\n}\n\nexport default Header"]},"metadata":{},"sourceType":"module"}