{"ast":null,"code":"import axios from 'axios';\nexport const profileService = {\n  updateProfile,\n  sendMail\n};\n\nasync function updateProfile(id, data, emailId) {\n  return await axios.post('http://localhost:4000/upload', data).then(async response => {\n    const url = '/' + response.data;\n    const image = url;\n    var updatedData;\n    await axios.put('http://localhost:4000/updateuser/'.concat(id), {\n      image,\n      emailId\n    }).then(async res => {\n      await axios.get('http://localhost:4000/getoneuser/'.concat(id)).then(user => {\n        if (user.data !== null) {\n          localStorage.setItem('currentUser', JSON.stringify(user.data));\n          updatedData = user.data;\n        }\n      });\n    }).catch(err => {\n      return err;\n    });\n    return updatedData;\n  }).catch(error => {\n    return error;\n  });\n}\n\nasync function sendMail(fullname, email, subject, message) {\n  return await axios.post('http://localhost:4000/sendmail', {\n    fullname,\n    email,\n    subject,\n    message\n  }).then(response => {\n    return response.data.msg;\n  }).catch(error => {\n    return error;\n  });\n}","map":{"version":3,"sources":["/home/user/Navigation-and-api-integration/client/src/redux/profile/profileService.js"],"names":["axios","profileService","updateProfile","sendMail","id","data","emailId","post","then","response","url","image","updatedData","put","concat","res","get","user","localStorage","setItem","JSON","stringify","catch","err","error","fullname","email","subject","message","msg"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,OAAO,MAAMC,cAAc,GAAG;AAC5BC,EAAAA,aAD4B;AAE5BC,EAAAA;AAF4B,CAAvB;;AAKP,eAAeD,aAAf,CAA6BE,EAA7B,EAAiCC,IAAjC,EAAuCC,OAAvC,EAAgD;AAC9C,SAAO,MAAMN,KAAK,CAACO,IAAN,CAAW,8BAAX,EAA2CF,IAA3C,EACVG,IADU,CACL,MAAOC,QAAP,IAAoB;AACxB,UAAMC,GAAG,GAAG,MAAMD,QAAQ,CAACJ,IAA3B;AACA,UAAMM,KAAK,GAAGD,GAAd;AACA,QAAIE,WAAJ;AACA,UAAMZ,KAAK,CAACa,GAAN,CAAU,oCAAoCC,MAApC,CAA2CV,EAA3C,CAAV,EAA0D;AAAEO,MAAAA,KAAF;AAASL,MAAAA;AAAT,KAA1D,EACHE,IADG,CACE,MAAOO,GAAP,IAAe;AACnB,YAAMf,KAAK,CAACgB,GAAN,CAAU,oCAAoCF,MAApC,CAA2CV,EAA3C,CAAV,EACHI,IADG,CACGS,IAAD,IAAU;AACd,YAAIA,IAAI,CAACZ,IAAL,KAAc,IAAlB,EAAwB;AACtBa,UAAAA,YAAY,CAACC,OAAb,CAAqB,aAArB,EAAoCC,IAAI,CAACC,SAAL,CAAeJ,IAAI,CAACZ,IAApB,CAApC;AACAO,UAAAA,WAAW,GAAGK,IAAI,CAACZ,IAAnB;AACD;AACF,OANG,CAAN;AAOD,KATG,EAUHiB,KAVG,CAUIC,GAAD,IAAS;AACd,aAAOA,GAAP;AACD,KAZG,CAAN;AAaA,WAAOX,WAAP;AACD,GAnBU,EAoBVU,KApBU,CAoBHE,KAAD,IAAW;AAChB,WAAOA,KAAP;AACD,GAtBU,CAAb;AAuBD;;AAED,eAAerB,QAAf,CAAwBsB,QAAxB,EAAkCC,KAAlC,EAAyCC,OAAzC,EAAkDC,OAAlD,EAA2D;AACzD,SAAO,MAAM5B,KAAK,CAACO,IAAN,CAAW,gCAAX,EAA6C;AAAEkB,IAAAA,QAAF;AAAYC,IAAAA,KAAZ;AAAmBC,IAAAA,OAAnB;AAA4BC,IAAAA;AAA5B,GAA7C,EACVpB,IADU,CACJC,QAAD,IAAc;AAClB,WAAOA,QAAQ,CAACJ,IAAT,CAAcwB,GAArB;AACD,GAHU,EAIVP,KAJU,CAIHE,KAAD,IAAW;AAChB,WAAOA,KAAP;AACD,GANU,CAAb;AAOD","sourcesContent":["import axios from 'axios'\n\nexport const profileService = {\n  updateProfile,\n  sendMail\n};\n\nasync function updateProfile(id, data, emailId) {\n  return await axios.post('http://localhost:4000/upload', data)\n    .then(async (response) => {\n      const url = '/' + response.data\n      const image = url\n      var updatedData;\n      await axios.put('http://localhost:4000/updateuser/'.concat(id), { image, emailId })\n        .then(async (res) => {\n          await axios.get('http://localhost:4000/getoneuser/'.concat(id))\n            .then((user) => {\n              if (user.data !== null) {\n                localStorage.setItem('currentUser', JSON.stringify(user.data))\n                updatedData = user.data;\n              }\n            })\n        })\n        .catch((err) => {\n          return err;\n        });\n      return updatedData;\n    })\n    .catch((error) => {\n      return error\n    })\n}\n\nasync function sendMail(fullname, email, subject, message) {\n  return await axios.post('http://localhost:4000/sendmail', { fullname, email, subject, message })\n    .then((response) => {\n      return response.data.msg;\n    })\n    .catch((error) => {\n      return error\n    })\n}"]},"metadata":{},"sourceType":"module"}